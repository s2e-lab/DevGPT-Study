<!DOCTYPE html>
<html>
<head>
  <title>Music Search</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/search_results.css') }}">
</head>
<body>
  <div class="container">
    <div class="left-column">
      <h2>Top Result</h2>
      <div class="top-result">
        <img src={{ tracks[0].image }} alt="Top Result Image">
        <h2>{{ tracks[0].name }}</h2>
        <p>{{ tracks[0].artist }}</p>
      </div>
      <div class="icon-overlay">
        <form action="/add_to_queue" method="POST">
          <input type="hidden" name="track_id" value={{ tracks[0].id }}>
          <img src="{{ url_for('static', filename='images/add_to_queue.png') }}" alt="Add to queue icon" class="icon" onclick="submitForm(this)">
        </form>
      </div>
    </div>
    <div class="right-column">
      <h2>Songs</h2>
      {% for track in tracks %}
      <div class="row">
        <div class="image-column">
          <img src="{{ track.image }}" alt="Track Image">
        </div>
        <div class="info-column">
          <h3>{{ track.name }}</h3>
          <p>{{ track.artist }}</p>
        </div>
        <div class="icon-overlay">
          <form action="/add_to_queue" method="POST">
            <img src="{{ url_for('static', filename='images/add_to_queue.png') }}" alt="Add to queue icon" class="icon" onClick="addTrackToQueue({{ track.id }})">
          </form>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</body>
</html>

<script>
  function submitForm(element) {
    var form = element.closest('form');
    form.submit();
  }
</script>